# 🔍 如何查看插件在Console中的执行日志

## 📖 背景说明

我已经在插件中添加了**详细的Console日志输出**，您现在可以在浏览器开发者工具中看到插件的所有执行信息！

所有日志都以 `[自动学习助手]` 开头，并使用彩色显示，非常醒目。

---

## 🚀 快速查看日志

### 步骤1：打开开发者工具

**方法1：** 按 `F12` 键

**方法2：** 按 `Ctrl + Shift + I` (Windows) 或 `Cmd + Option + I` (Mac)

**方法3：** 右键点击页面 → "检查" 或 "Inspect"

### 步骤2：切换到Console标签

在开发者工具顶部找到 **Console** 标签并点击

### 步骤3：开始使用插件

1. 点击浏览器工具栏的插件图标
2. 点击"开始学习"按钮
3. 回到Console标签，您会看到彩色的日志输出

---

## 📝 日志类型说明

### 🚀 启动日志（绿色）
```
[自动学习助手] 🚀 开始自动学习
[自动学习助手] 当前URL: https://...
```
**含义：** 插件已启动，正在检测页面

### 🔍 页面检测日志（紫色）
```
[自动学习助手] 检测页面类型... https://...
```
**含义：** 正在判断当前是列表页还是视频页

### 📚 课程列表日志（蓝色 + 绿色）
```
[自动学习助手] ✅ 这是课程列表页面
[自动学习助手] ✅ 使用选择器 ".item.hover-shadow" 找到 8 个课程
[自动学习助手] 📚 找到课程: 8个
[自动学习助手] 已学习课程数: 0
[自动学习助手] 🎯 准备学习: 主讲人：韩庆祥
[自动学习助手] 课程元素: <div class="item hover-shadow">...</div>
```
**含义：** 成功识别课程列表，准备点击

### 🖱️ 点击日志（橙色 + 绿色）
```
[自动学习助手] 🖱️ 即将点击课程...
[自动学习助手] 🖱️ 点击课程卡片 <div>...</div>
[自动学习助手] ✅ 找到链接，点击链接 https://...
或
[自动学习助手] ✅ 找到封面，点击封面
或
[自动学习助手] ✅ 直接点击卡片
```
**含义：** 正在点击课程，会尝试多种点击方式

### 🎥 视频页面日志（蓝色 + 绿色）
```
[自动学习助手] ✅ 这是视频播放页面
[自动学习助手] 检测到视频元素 <video>...</video>
[自动学习助手] 当前课程: 习近平强军思想（下）
[自动学习助手] 视频倍速: 1.5x
[自动学习助手] 找到播放按钮，准备点击 <button class="vjs-big-play-button">
[自动学习助手] ✅ 已点击播放按钮
[自动学习助手] ✅ 视频已开始播放
或
[自动学习助手] ✅ 视频正在播放中
```
**含义：** 成功进入视频页面并开始播放

### ❌ 错误日志（红色）
```
[自动学习助手] ❌ 播放视频失败: DOMException...
[自动学习助手] 重试点击播放按钮
```
**含义：** 遇到问题，正在尝试解决

### ⏳ 等待日志（灰色）
```
[自动学习助手] ⏳ 等待页面加载...
```
**含义：** 页面还没加载完成，等待中

---

## 🎯 完整流程日志示例

### 在课程列表页：

```javascript
[自动学习助手] 🚀 开始自动学习
[自动学习助手] 当前URL: https://web.scgb.gov.cn/course/list
[自动学习助手] 检测页面类型... https://web.scgb.gov.cn/course/list
[自动学习助手] ✅ 这是课程列表页面
[自动学习助手] ✅ 使用选择器 ".item.hover-shadow" 找到 8 个课程
[自动学习助手] 📚 找到课程: 8个
[自动学习助手] 已学习课程数: 0
[自动学习助手] 🎯 准备学习: 主讲人：韩庆祥
[自动学习助手] 课程元素: <div class="item hover-shadow">
[自动学习助手] 🖱️ 即将点击课程...
[自动学习助手] 🖱️ 点击课程卡片
[自动学习助手] ✅ 找到封面，点击封面
```

### 跳转到视频页后：

```javascript
[自动学习助手] 检测页面类型... https://web.scgb.gov.cn/course/detail/123
[自动学习助手] ✅ 这是视频播放页面
[自动学习助手] 检测到视频元素
[自动学习助手] 当前课程: 习近平新时代中国特色社会主义思想
[自动学习助手] 视频倍速: 1.5x
[自动学习助手] 找到播放按钮，准备点击
[自动学习助手] ✅ 已点击播放按钮
[自动学习助手] ✅ 视频正在播放中
```

---

## ❓ 常见问题诊断

### Q1: Console没有任何 [自动学习助手] 日志

**可能原因：**
- ❌ 插件没有正确加载
- ❌ 插件未启用
- ❌ 内容脚本注入失败

**解决方法：**
1. 访问 `chrome://extensions/`
2. 确认插件状态为"已启用"
3. 点击刷新按钮 ⟳
4. 刷新学习平台页面
5. 重新开始学习

### Q2: 显示"⏳ 等待页面加载..."

**含义：** 插件无法识别当前页面

**解决方法：**
1. 确保您在课程列表页或视频页
2. 等待页面完全加载（5-10秒）
3. 在Console运行测试代码：
```javascript
document.querySelectorAll('.item.hover-shadow').length
```
如果返回0，说明页面结构不匹配

### Q3: 显示"找到 0 个课程"

**原因：** 选择器不匹配

**解决方法：**
在Console运行：
```javascript
// 测试不同选择器
document.querySelectorAll('.item').length
document.querySelectorAll('.item.hover-shadow').length
document.querySelectorAll('[class*="item"]').length
```
找出能返回结果的选择器，告诉我

### Q4: 点击课程后没有跳转

**查看日志：**
```
[自动学习助手] 🖱️ 点击课程卡片
[自动学习助手] ✅ 找到封面，点击封面
```

**如果有上述日志但没跳转：**
- 可能元素不可点击
- 可能需要点击其他元素

**测试方法：**
在Console运行：
```javascript
const card = document.querySelector('.item.hover-shadow');
card.querySelector('.cover').click(); // 测试点击封面
// 或
card.click(); // 测试点击卡片本身
```

### Q5: 视频页面不自动播放

**查看日志：**
```
[自动学习助手] 找到播放按钮，准备点击
[自动学习助手] ✅ 已点击播放按钮
```

**如果有此日志但视频不播放：**
1. 检查播放按钮是否正确
2. 可能需要额外的点击或操作

**手动测试：**
在Console运行：
```javascript
document.querySelector('.vjs-big-play-button').click();
```

---

## 🔧 高级调试

### 查看所有插件相关日志

在Console中，点击"过滤器"输入框，输入：
```
自动学习助手
```
这样只显示插件的日志

### 清空Console

点击Console左上角的 🚫 图标，或按 `Ctrl + L`

### 保留日志

勾选Console顶部的 **"Preserve log"** 或 **"保留日志"**

这样页面跳转后日志不会消失，方便查看完整流程

### 导出日志

1. 右键点击Console中的日志
2. 选择"保存为..." 或 "Save as..."
3. 可以发送给我进行分析

---

## 📊 日志含义速查表

| 日志内容 | 颜色 | 含义 | 下一步 |
|---------|------|------|--------|
| 🚀 开始自动学习 | 绿色 | 插件启动 | 等待检测页面 |
| ✅ 这是课程列表页面 | 绿色 | 识别到列表 | 准备点击课程 |
| ✅ 找到 X 个课程 | 绿色 | 发现课程 | 选择未学课程 |
| 🎯 准备学习 | 绿色 | 选中课程 | 即将点击 |
| 🖱️ 点击课程卡片 | 橙色 | 正在点击 | 等待跳转 |
| ✅ 这是视频播放页面 | 绿色 | 进入视频页 | 准备播放 |
| ✅ 已点击播放按钮 | 绿色 | 点击播放 | 视频开始播放 |
| ✅ 视频正在播放中 | 绿色 | 播放成功 | 等待播放完成 |
| ⏳ 等待页面加载 | 灰色 | 页面未识别 | 需要排查 |
| ❌ 播放失败 | 红色 | 出现错误 | 查看详细信息 |

---

## 💡 使用技巧

### 技巧1：双屏使用

- **左屏：** 学习平台网页
- **右屏：** 开发者工具Console

这样可以实时看到插件的执行过程

### 技巧2：录制日志

如果遇到问题，可以：
1. 开启"保留日志"
2. 从头开始操作
3. 截图完整的Console日志
4. 发给我分析

### 技巧3：对比调试代码和插件

**调试代码能点击，插件不行？**

在Console同时运行：
```javascript
// 看看插件找到的元素是否正确
console.log('插件应该找到:', document.querySelector('.item.hover-shadow'));
```

---

## 🎯 现在开始测试！

1. ✅ **打开学习平台课程列表页**
2. ✅ **按F12打开Console**
3. ✅ **勾选"保留日志"**
4. ✅ **点击插件图标 → 开始学习**
5. ✅ **观察Console中的彩色日志**
6. ✅ **截图日志发给我（如果有问题）**

---

## 📞 需要帮助？

如果看到异常日志，请提供：
- ✅ Console完整截图（从"🚀 开始自动学习"到出错为止）
- ✅ 当前页面URL
- ✅ 页面截图

我会根据日志快速定位问题！

---

**祝调试顺利！🎉**

