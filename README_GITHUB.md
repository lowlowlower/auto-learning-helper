# 🎓 自动学习助手 - Chrome 浏览器扩展

一个强大的浏览器扩展，可以自动播放学习平台的课程，实现持续学习无需人工干预。

> **适用平台：** 基于 Video.js 播放器的在线学习平台

## ✨ 主要功能

- 🎯 **自动播放课程** - 自动识别并点击课程卡片
- 🔄 **智能跳转** - 在当前标签页打开课程，避免标签页泛滥
- ⏭️ **跳过已完成课程** - 自动检测100%完成的课程并跳过
- 📄 **自动翻页** - 当前页学完后自动翻到下一页
- ⚡ **倍速播放** - 支持1.0x - 2.0x倍速设置
- 📊 **学习统计** - 记录已学习课程数量和进度
- 🔁 **循环学习** - 支持学完所有课程后自动重新开始
- 💾 **进度保存** - 自动保存学习进度，关闭浏览器也不丢失
- 📝 **运行日志** - 实时显示运行状态和操作日志（Console）
- 🎬 **精准完成检测** - 检测播放控制按钮的 `vjs-ended` 类

## 🚀 快速开始

### 安装方法

1. **下载项目**
   ```bash
   git clone https://github.com/你的用户名/auto-learning-helper.git
   cd auto-learning-helper
   ```

2. **准备图标文件**
   - 打开 `生成图标.html` 下载图标文件
   - 或将任意3张PNG图片命名为 `icon16.png`, `icon48.png`, `icon128.png`
   - 放入 `icons/` 文件夹

3. **加载插件**
   - 打开 Chrome/Edge 浏览器
   - 访问 `chrome://extensions/` 或 `edge://extensions/`
   - 开启"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择本项目文件夹

4. **开始使用**
   - 打开学习平台课程列表页
   - 点击插件图标
   - 点击"开始学习"按钮

## 📖 详细文档

- [快速开始指南](快速开始.md) - 3分钟上手
- [安装指南](安装指南.md) - 详细安装步骤
- [功能说明](README.md) - 完整功能文档
- [Console查看指南](Console查看指南.md) - 如何查看运行日志

## 🎯 核心特性

### 智能课程识别

- 自动识别 `.item.hover-shadow` 课程卡片
- 支持多种页面结构
- 详细的Console日志输出

### 自动完成检测

- ✅ 检测播放控制按钮的 `vjs-ended` 类（最准确）
- ✅ 检查大播放按钮是否重新出现
- ✅ 检查视频 `ended` 状态
- ✅ 多重保险，确保不会错过或误判

### 防止重复操作

- ✅ 点击课程前停止检测循环
- ✅ 在当前标签页打开（不开新标签）
- ✅ 自动移除 `target="_blank"` 属性
- ✅ 避免连续点击多个课程

### 自动翻页

- ✅ 检测课程100%完成状态
- ✅ 跳过已完成的课程
- ✅ 当前页学完自动翻页
- ✅ 支持多种分页组件

## 🛠️ 技术栈

- **Manifest V3** - Chrome Extension
- **Content Scripts** - 页面自动化
- **Chrome Storage API** - 数据持久化
- **Video.js** - 视频播放器支持

## 📁 项目结构

```
auto-learning-helper/
├── manifest.json              # 插件配置
├── background.js              # 后台服务
├── content.js                 # 内容脚本（核心）
├── popup.html/js/css          # 弹出界面
├── icons/                     # 图标文件夹
├── 生成图标.html              # 图标生成工具
├── 调试工具.html              # 调试辅助工具
└── 测试脚本-*.js              # 测试脚本

文档：
├── README.md                  # 完整文档
├── 快速开始.md                # 上手指南
├── 安装指南.md                # 安装步骤
├── Console查看指南.md         # 日志说明
├── 功能更新-自动翻页.md       # 功能说明
├── 完成检测-最终版说明.md     # 技术细节
└── 修复说明-*.md              # 问题修复说明
```

## ⚙️ 配置选项

| 选项 | 说明 | 默认值 |
|------|------|--------|
| 视频倍速 | 播放速度 | 1.5x |
| 自动下一课 | 完成后自动下一个 | 开启 |
| 循环学习 | 学完后重新开始 | 开启 |

## 🔧 高级功能

### 自定义选择器

如果插件无法识别您的平台，可以修改 `content.js` 中的选择器：

```javascript
// 在 detectCourseCards() 函数中添加
const selectors = [
  '.your-course-class',  // 添加您的课程卡片类名
  '.item.hover-shadow',
  // ...
];
```

### 调试工具

项目包含多个测试脚本：
- `测试脚本-翻页功能.js` - 测试课程识别和翻页
- `测试脚本-检查链接.js` - 检查链接是否会开新标签
- `测试脚本-检查播放控制按钮.js` - 测试视频完成检测

使用方法：打开学习平台 → F12 → 复制脚本到Console运行

## 📝 使用说明

### 基本使用

1. 打开学习平台课程列表（任意页）
2. 按 F12 打开Console（推荐）
3. 点击插件图标 → "开始学习"
4. 插件会自动：
   - 跳过100%完成的课程
   - 学习未完成的课程
   - 自动翻页到下一页
   - 循环直到全部完成

### Console 日志示例

```javascript
[自动学习助手] 🚀 开始自动学习
[自动学习助手] ✅ 使用选择器 ".item.hover-shadow" 找到 8 个课程
[自动学习助手] ⏭️ 跳过已完成课程: 主讲人：高祖贵
[自动学习助手] 🎯 准备学习: 主讲人：韩庆祥
[自动学习助手] ⏸️ 停止检测循环，等待页面跳转
[自动学习助手] 🖱️ 点击课程卡片
[自动学习助手] ✅ 检测到视频页面
[自动学习助手] ✅ 已点击播放按钮
[自动学习助手] 🎬 视频学习完成！
[自动学习助手] 🔙 准备返回课程列表...
```

## ❓ 常见问题

<details>
<summary>为什么无法识别课程？</summary>

可能是页面结构不匹配。请：
1. 按F12打开Console查看日志
2. 使用 `调试工具.html` 检测页面元素
3. 或提供页面HTML代码
</details>

<details>
<summary>为什么打开了多个标签页？</summary>

已在最新版本修复。如果仍有问题：
1. 重新加载插件
2. 查看Console是否显示"停止检测循环"
3. 检查是否移除了 `target="_blank"`
</details>

<details>
<summary>视频不自动播放？</summary>

首次使用时浏览器可能阻止自动播放：
1. 手动点击播放一次
2. 之后会自动播放
</details>

<details>
<summary>如何查看详细日志？</summary>

1. 按 F12 打开开发者工具
2. 切换到 Console 标签
3. 勾选 "Preserve log"
4. 查看所有 `[自动学习助手]` 开头的日志
</details>

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## ⚠️ 免责声明

- 本插件仅供学习交流使用
- 请遵守所在平台的使用规则
- 建议配合真实学习使用
- 使用本插件产生的任何后果由使用者自行承担

## 📄 许可证

MIT License

## 🙏 致谢

感谢所有使用和反馈的用户！

---

**如有问题或建议，欢迎提交 Issue！**

Made with ❤️ for learners

